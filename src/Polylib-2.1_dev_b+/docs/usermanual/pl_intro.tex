{\begin{abstract}
本ユーザーガイドでは，ポリゴン要素を管理するライブラリについて，その機能と利用方法を説明します．
\end{abstract}

%
\section{概要}
Polygon Management Library (以下，Polylib)は，V-SphereのソルバークラスCBCから
呼び出して利用することが可能な，ポリゴンデータを保持・管理するためのクラスライブラリです．

クラスライブラリの詳細については，「リファレンスマニュアル」を参照してください．

%
\section{Polylibの機能}
Polylibの主な機能を以下に列挙します．

\begin{itemize}
 \item 初期化ファイルを利用したSTLファイルの読み込み  (Ver.2.0.0追加機能)
  \begin{itemize}
   \item 初期化ファイルに記述されたポリゴングループ階層構造，およびSTLファイルを読み込み，オンメモリに管理します．
  \end{itemize}
  \vspace{2mm}
  
 \item ポリゴンデータのグルーピング
  \begin{itemize}
   \item 読み込んだポリゴンデータをSTLファイル単位にグルーピングして管理します．複数のポリゴングループを纏めたグループを作成するなどの，階層的なグループ管理が可能です．グルーピングの設定は初期化ファイルに記述します．
  \end{itemize}
  \vspace{2mm}
  
 \item ポリゴンデータの検索
  \begin{itemize}
   \item 読み込み済のポリゴンデータについて，指定された領域内に含まれるポリゴンを検索します．検索対象のポリゴンデータは，Polylib管理下のポリゴン全体や，任意のポリゴングループなどの指定が可能です．
  \end{itemize}
  \vspace{2mm}
  
 \item 並列計算環境下でのポリゴンデータの分散
  \begin{itemize}
   \item マスターランクで読み込んだポリゴンデータを，領域分割情報に基づき各ランクに配信します．
  \end{itemize}
  \vspace{2mm}
  
 \item ポリゴンデータの移動 (Ver.2.0.0追加機能)
  \begin{itemize}
   \item 時間発展計算実行中に，ユーザプログラム側で定義されたポリゴン頂点座標移動関数に基づきポリゴンデータの移動を行います．
   \item 並列計算環境下では，隣接ランク領域へ移動したポリゴン情報をランク間でやりとりします．
  \end{itemize}
  \vspace{2mm}
  
 \item ポリゴンデータの一時保存 (Ver.2.0.0追加機能)
  \begin{itemize}
   \item 一時保存処理を呼び出した時点のグループ階層構造情報，およびポリゴンデータを，ファイルに保存します．
   \item 並列計算環境下でのファイル保存は，マスターノードへの集約保存と，各ランクでの分割保存が選択できます．
  \end{itemize}
  \vspace{2mm}
  
 \item ポリゴンデータの再読み込み  (Ver.2.0.0追加機能)
  \begin{itemize}
   \item 一時保存処理により保存されたファイルを再読み込みします．
   \item 並列計算環境下での再読み込みは，マスターノードでの集約読み込みと，各ランクでの分割読み込みが選択できます．
  \end{itemize}
\end{itemize}

%
\pagebreak
%
\section{動作環境}
以下の環境下で動作確認済です．

\begin{itemize}
 \item 開発OS：CentOS5.4 (64bit)
 \item 開発言語：C++
 \item 開発コンパイラ：g++ 4.1.2, Intel C++ Compiler 11.1
 \item 並列ライブラリ：OpenMPI 1.3.2
 \item XMLライブラリ：libxml2 2.6.26
\end{itemize}

\section{Polylib Ver.1.0からの主な変更点}

Polylib Ver.2.0.xでは，Ver.1.0から以下の変更が行われています．

\begin{itemize}
\item ポリゴン移動機能の追加\\
ユーザ定義によるポリゴン座標移動関数を用いた，時間発展計算実行中のポリゴン群の移動機能を
追加しました．並列計算環境化においては，隣接ＰＥ計算領域間を移動したポリゴン情報を自動的
にＰＥ間で融通する仕組みを追加しました．
\vspace{2mm}

\item 計算中断・再開への対応\\
時間発展計算途中の計算中断時にポリゴン情報をファイル保存する機能を追加しました．ファイルの
保存は，各ランク毎保存，もしくはマスターランクでの集約保存が選択可能です．

また，途中保存したファイルを指定してポリゴン情報の読み込みを行う機能も追加しました．時間
発展計算の再開時に利用することを想定しています．これも各ランク毎読み込み，マスターランク
での集約読み込みが選択可能です．
\vspace{2mm}

\item データ登録系APIの整理\\
ユーザビリティの観点から，ポリゴングループの登録やSTLファイルの読み込みといったPolylibへの
ポリゴンデータ登録処理をXML形式の設定ファイルを利用するように変更しました．これにより，
データ登録系APIを大幅に刷新しました．
\end{itemize}
